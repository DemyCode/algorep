<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#39;RAFT-ALGOREP&#39;: RAFT Consensus Algorithm for Log Replication</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#39;RAFT-ALGOREP&#39;
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RAFT Consensus Algorithm for Log Replication </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Projec for the Distributed Algorithm class at EPITA.</p>
<p>Authors:</p><ul>
<li>Mehdi Bekhtaoui</li>
<li>Axen Georget</li>
<li>Brieg Oudea</li>
<li>Mickael Gandon</li>
</ul>
<p>Supervised by:</p><ul>
<li>Etienne Renault</li>
</ul>
<h2>1. Requirements</h2>
<p>To use this project you should install MPI, to do so you should install the <code>libopenmpi-dev</code> package. Along with that this project requires cmake and a C++ compiler supporting the C++17 version. This project also uses the tool make.</p>
<h2>2. Build</h2>
<p>In order to build this project you can run the following command, it will create a directory call build and add the executable inside: </p><div class="fragment"><div class="line">make</div></div><!-- fragment --><p>If you want to create a debug environment you can run the following command: </p><div class="fragment"><div class="line">make debug</div></div><!-- fragment --><h2>3. Run the Program</h2>
<p>To run the program you can use the <code>run.sh</code> script by executing the following commands: </p><div class="fragment"><div class="line">chmod +x run.sh</div><div class="line">./run.sh [client_count] [server_count] [generate_command_list]</div></div><!-- fragment --><p>Here is a quick description of the parameters:</p><ul>
<li><code>client_count</code>: Number of client instances to create</li>
<li><code>server_count</code>: Number of client instances to create</li>
<li><code>generate_command_list</code>: (<code>yes</code> or <code>no</code>) if <code>yes</code> it will generate a random command list which will be given to the clients</li>
</ul>
<p>The program will create one file per server containing the replicated log. Those files are named <code>log[rank_of_server].txt</code>.</p>
<h3>3.1 <a class="el" href="classController.html">Controller</a> Commands</h3>
<p>When running you can interact with the controller, here is the list and descriptions of the available commands:</p><ul>
<li><code>help</code>: print the help message</li>
<li><code>list_ranks</code>: print the list of ranks with the type of the process associated</li>
<li><code>entry [client_rank] [command]</code>: send an entry to the client_rank</li>
<li><code>start [client_rank]</code>: start the client_rank</li>
<li><code>wait_finish [client_rank]</code>: wait that a client has send all his messages</li>
<li><code>timeout [server_rank]</code>: simulate an election timeout on the server_rank (force to be candidate)</li>
<li><code>get_state [server_rank]</code>: get the state of the server_rank</li>
<li><code>print_local_log [server_rank]</code>: print the local log of the server_rank</li>
<li><code>set_speed [process_rank] [speed]</code>: set the speed of the process_rank, speed available: {low, medium, high}</li>
<li><code>crash [process_rank]</code>: crash the process_rank</li>
<li><code>recover [process_rank]</code>: recover the process_rank</li>
<li><code>stop [process_rank]</code>: stop the process_rank</li>
<li><code>sleep [milliseconds]</code>: sleep the current process for milliseconds</li>
</ul>
<h2>4. Run the Test Suite</h2>
<p>In order to run the test suite you can run the following command: </p><div class="fragment"><div class="line">make test</div></div><!-- fragment --><h2>5. Debug the Program</h2>
<p>When building the program in debug mode, it will automatically create one debug file per server instance. Those files are located in the folder <code>debug</code>. You can also use the python script <code><a class="el" href="merge__log_8py.html">tests/merge_log.py</a></code> this way: </p><div class="fragment"><div class="line">python3 tests/merge_log.py</div></div><!-- fragment --><p>This script will create a file <code>debug/merged.txt</code> containing all the debug log merged and sorted by timestamp. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
